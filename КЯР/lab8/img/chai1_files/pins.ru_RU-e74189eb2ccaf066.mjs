(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[79657],{17314:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var n,i,s=t(813653),o=t(861470),a=0,l=0;let c=function(e,r,t){var c=r&&t||0,u=r||Array(16),d=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var h=e.random||(e.rng||s.Z)();null==d&&(d=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=(h[6]<<8|h[7])&16383)}var _=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,f=_-a+(m-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||_>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=_,l=m,i=p;var v=((268435455&(_+=122192928e5))*1e4+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var P=_/4294967296*1e4&268435455;u[c++]=P>>>8&255,u[c++]=255&P,u[c++]=P>>>24&15|16,u[c++]=P>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var w=0;w<6;++w)u[c+w]=d[w];return r||(0,o.Z)(u)}},136061:(e,r,t)=>{"use strict";t.d(r,{Hv:()=>l,aX:()=>d,nK:()=>p});var n=t(667294),i=t(616550),s=t(498490),o=t(785893);let{Provider:a,useHook:l}=(0,s.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,r){let t={action:r.type,location:r.location,match:r.match};if(r.location===e.current?.location)return e;switch(r.type){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(t.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:r.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:r.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:t,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:t};default:return e}}function d(){let{current:e,previous:r}=l();return(0,n.useMemo)(()=>e?r.concat(e):r,[e,r])}function p({children:e}){let r=(0,i.k6)(),t=(0,i.TH)(),s=(0,i.$B)(),l={forward:[],current:{action:r.action,location:t,match:s},previous:[]},[c,d]=(0,n.useReducer)(u,l);return(0,n.useEffect)(()=>{let{action:e}=r;d({type:e,location:t,match:s})},[t]),(0,o.jsx)(a,{value:c,children:e})}},656817:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var n=t(667294);function i(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function s(){return window.innerWidth}function o(){return window.innerHeight}function a(){return null}function l(){let e=(0,n.useSyncExternalStore)(i,o,a),r=(0,n.useSyncExternalStore)(i,s,a);return null!==e&&null!==r?{height:e,width:r}:null}},616949:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a,h:()=>o});var n=t(172045),i=t(17314);function s(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:n+"")in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),a=class{constructor(e){s(this,"start",()=>(this.startTime=o(),this.startTime)),s(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},885029:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var n=t(883119),i=t(785893);let s=({icon:e,iconLabel:r,message:t,url:s,onTouch:o})=>{let a=(0,i.jsxs)(n.xu,{alignItems:e?"center":void 0,color:"selected",display:e?"flex":"inlineBlock",justifyContent:e?"between":void 0,padding:2,rounding:2,children:[(0,i.jsx)(n.xu,{marginEnd:e?2:0,children:(0,i.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:t})}),e&&r&&(0,i.jsx)(n.xu,{flex:"none",children:(0,i.jsx)(n.JO,{accessibilityLabel:r,color:"inverse",icon:e,size:32})})]});return(0,i.jsx)(n.xu,{paddingX:2,children:s?(0,i.jsx)(n.Tg,{href:s,onTap:({event:e})=>o?.(e),rounding:2,tapStyle:"none",children:a}):a})}},820416:(e,r,t)=>{"use strict";t.d(r,{Z:()=>x});var n=t(667294),i=t(883119),s=t(488792),o=t(144326),a=t(957486),l=t(961754),c=t(499671),u=t(969119),d=t(383399),p=t(885029),h=t(205758),_=t(682661),m=t(34402),f=t(124747),v=t(463036),P=t(785893);let w=({isOwnProfile:e})=>{let r=(0,o.ZP)();return(0,P.jsx)(i.xu,{paddingY:4,children:e?(0,P.jsx)(p.Z,{icon:"arrow-circle-forward",iconLabel:r.bt("Перейти к своей ленте", "Go to home feed", "profile.pins.redirectButtonLabel", undefined, true),message:r.bt("Вы пока не сохранили ни одной идеи. Найдите интересные идеи...", "You haven't saved any ideas yet. Find ideas you love...", "you have no pins", undefined, true),url:"/"}):(0,P.jsx)(p.Z,{message:r.bt("Этот пользователь пока не сохранил ни одной идеи.", "This Pinner hasn't saved any ideas yet.", "user has no boards and pins", undefined, true)})})};function x({isOwnProfile:e,isProfilePinsStale:r,username:t,isRelatedPins:i=!1,resourceRef:o,userAvatarImageUrl:p}){let x=(0,s.Z)(),{isAuth:y}=(0,d.Z)(),E=(0,l.Z)(o?null:{name:"UserPinsResource",options:(0,m.Z)({isAuthenticated:y,isOwnProfile:e,username:t}),noCache:!e||r}),S=(0,a.Z)(o??{isFetching:!1,isLoaded:!0,isRefreshing:!1,name:"DisabledResource",optionsKey:"",fetchMore:()=>{},refresh:()=>{}}),j=o?S.data:E.data,Z=(0,n.useMemo)(()=>({loadNext:(o??E).fetchMore,hasNext:(o?S:E).isAtEnd,isLoadingNext:(o??E).isFetching,refetch:()=>void 0}),[E,o,S]);(0,u.Z)(()=>{i&&x({event_type:13,view_type:4,view_parameter:e?3106:3107,component:14081})});let g=()=>(0,P.jsx)(f.Z,{emptyState:(0,P.jsx)(w,{isOwnProfile:e}),feedItems:j??[],feedKey:`profile-pins:${t}`,pagination:Z,renderFeedItem:(r,t)=>"pin"===r.type?(0,P.jsx)(h.Z,{children:(0,P.jsx)(_.ZP,{componentType:0,duploQueryRef:null,pinId:r.id,slotIndex:t,trackingParams:r.tracking_params,trafficSource:"user_pins",userAvatarImageUrl:p,viewParameter:e?3106:3107,viewType:4})},r.id):(0,P.jsx)(v.default,{slotIndex:t,storyId:r.id??"",viewParameter:e?3106:3107,viewType:4}),serverRender:!0});return i?(0,P.jsx)(c.Z,{component:14081,view:4,viewParameter:e?3106:3107,children:g()}):g()}},124747:(e,r,t)=>{"use strict";t.d(r,{G:()=>P,Z:()=>w});var n=t(667294),i=t(883119),s=t(31723),o=t(587435),a=t(679482),l=t(829413),c=t(892205),u=t(410150),d=t(969119),p=t(798920),h=t(995060),_=t(769423),m=t(507830),f=t(367912),v=t(785893);let P=25;function w({customLayoutType:e,getColumnSpanConfig:r,emptyState:t,feedItems:P,feedKey:w,maxColumns:x,minColumns:y,pagination:{hasNext:E,isLoadingNext:S,loadNext:j,refetch:Z},pullToRefresh:g,renderFeedItem:A,serverRender:O}){let I=(0,u.HG)(),{experimentalColumnWidth:T,experimentalGutter:N}=(0,o.Z)(),[D,b]=(0,n.useState)(!1),R="userSearch"===e?window.innerWidth-16:200,L=S&&0===P.length&&!D,U="desktopFlashlight"===e?0:a.qG,H=y??2;return"userSearch"===e&&(H=1),(0,d.Z)(()=>(window.addEventListener("online",j),()=>window.removeEventListener("online",j))),(0,v.jsxs)(i.xu,{"data-test-id":"MobileFeed",children:[(0,v.jsx)(h.Z,{enabled:!!g,onPull:()=>{Z(),b(!0)},refreshing:D}),(0,v.jsxs)(i.xu,{"data-test-id":"grid",marginEnd:U,marginStart:U,opacity:D?.5:1,children:[(0,v.jsx)(l.Z,{isAtEndOfFeed:!E,itemCount:P.length,children:P.length?(0,v.jsx)(i.xu,{"data-test-id":"feed",marginTop:(0,p.kk)({isDesktop:I}),children:(0,v.jsx)(c.Z.Consumer,{children:e=>(0,v.jsx)(n.Fragment,{children:(0,v.jsx)(f.Z,{children:(0,v.jsx)(s.default,{_getColumnSpanConfig:r,cacheKey:w,columnWidth:I?T??a.yF:R,gutterWidth:I?N??4*a.jC:void 0,id:O?w:void 0,items:P,loadItems:j,maxColumns:x,minCols:H,optOutFluidGridExperiment:null!=x,renderItem:({data:e,itemIdx:r})=>A(e,r),scrollContainerRef:e,serverRender:O})})})})}):S?(0,v.jsx)(_.Z,{}):t??null}),L&&(0,v.jsx)(i.xu,{column:12,paddingY:2,children:(0,v.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},55463:(e,r,t)=>{"use strict";t.d(r,{f:()=>a,w:()=>l});var n=t(667294),i=t(498490),s=t(785893);let{Provider:o,useHook:a}=(0,i.Z)("Session");function l({children:e}){let[r,t]=(0,n.useState)(void 0),i=(0,n.useCallback)(()=>t(void 0),[]),a=(0,n.useMemo)(()=>({unauthFollowUserId:r,setUnauthFollowUserId:t,removeUnauthFollowUserId:i}),[r,i]);return(0,s.jsx)(o,{value:a,children:e})}},891880:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var n=t(667294),i=t(477058),s=t(785220),o=t(49985),a=t(785893);class l extends n.Component{componentDidMount(){let{setCurrentPageData:e,viewData:r,viewParameter:t,viewType:n}=this.props;e({viewData:r,viewParameter:t,viewType:n})}componentDidUpdate(e){let{setCurrentPageData:r,viewData:t,viewParameter:n,viewType:i}=this.props;n===e.viewParameter&&i===e.viewType&&(0,s.ZP)(t,e.viewData)||r({viewData:t,viewParameter:n,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:r,component:t,objectIdStr:n,viewData:i,viewParameter:s,viewType:l,clientTrackingParams:c}=this.props;return(0,a.jsx)(o.Z,{auxData:e,clientTrackingParams:c,component:t,objectIdStr:n,viewData:i,viewParameter:s,viewType:l,children:r})}}function c(e){let{setViewContextData:r,clearViewContextData:t}=(0,i.sV)();return(0,a.jsx)(l,{...e,clearCurrentPageData:t,setCurrentPageData:r})}},335108:(e,r,t)=>{"use strict";t.d(r,{Cp:()=>c,FK:()=>l,H5:()=>x,MI:()=>m,O0:()=>_,QZ:()=>a,W:()=>P,WF:()=>d,Wz:()=>y,a5:()=>p,dz:()=>v,e0:()=>h,e2:()=>o,iW:()=>w,n1:()=>s,rm:()=>u,xu:()=>f});var n=t(282999),i=t(812477);let s=()=>({type:"DISMISS_UNAUTH_SAVE"}),o=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),a=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),c=()=>({type:"SHOW_NAV_FOOTER"}),u=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),d=()=>({type:"SHOW_REPIN_ANIMATION"}),p=()=>({type:"HIDE_REPIN_ANIMATION"}),h=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),_=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),f=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),v=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),P=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),w=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},x=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),y=(e,r)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,n.bo)(e)?"today":(0,n.dr)(e)?"ideas":r&&(0,n.dZ)(e,r)?"own_section":r&&(0,n.J)(e,r)?"own_board":(0,n.OJ)(e)?"section":(0,n.am)(e)?"board":(0,n.L6)(e)?"closeup":(0,n.C$)(e)?"home":(0,i.Z)(e)?"profile":(0,n.En)(e)?"search":(0,n.$V)(e)?"topic":"":""})},780509:(e,r,t)=>{"use strict";t.d(r,{Z:()=>F});var n=t(410150),i=t(383399),s=t(616550),o=t(667294),a=t(883119),l=t(242966),c=t(197328),u=t(144326),d=t(654405),p=t(785893);function h({ownProfile:e}){let r=(0,u.ZP)(),t=(0,p.jsx)(c.Z,{}),n=(0,p.jsx)(l.Z,{});return(0,p.jsx)(d.Z,{buttonsLeft:[],buttonsRight:e?[t,n]:[],minHeight:48,shouldStick:!0,children:(0,p.jsx)(a.X6,{accessibilityLevel:1,size:"400",children:r.bt("Все пины", "All Pins", "profilePinsHeader.heading", undefined, true)})})}var _=t(346467),m=t(602185),f=t(760800),v=t(461661),P=t(325510);function w({user:e}){let r=(0,i.Z)(),t=(0,v.Z)({user:e,viewer:r});return(0,P.G)(e.username,74),(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(m.Z,{name:"ProfilePinsHeader",children:(0,p.jsx)(h,{ownProfile:t})}),(0,p.jsx)(m.Z,{name:"AllPins",children:(0,p.jsx)(a.xu,{"data-test-id":"profile-pins-grid",children:(0,p.jsx)(_.ZP,{emptyState:(0,p.jsx)(f.Z,{fullName:e.full_name,isOwnProfile:t}),isOwnProfile:t,showNativePins:!0,surface:t?"UserProfilePinGrid":"OtherProfilePinGrid",user:e,username:e.username})})})]})}var x=t(664331);function y(){let e=(0,s.k6)(),r=(0,x.Z)();if(!r)return null;if(!r.isLoaded||!r.data)return r.error&&404===r.error.httpStatus&&e.replace("/?show_error=true"),null;let t=r.data;return(0,p.jsx)(w,{user:t})}var E=t(545007),S=t(590338),j=t(240760),Z=t(730212),g=t(931397),A=t(499671),O=t(891880),I=t(343931),T=t(973100),N=t(34402),D=t(820416),b=t(624438),R=t(335108);let L={shortform:!1,shortform_maximum_fraction_digits:1};class U extends o.PureComponent{componentWillUnmount(){this.props.setProfilePinsRefreshed()}render(){let{match:e,user:r,viewerId:t,isProfilePinsStale:n,resourceRef:i}=this.props;if(!r||!r.id)return(0,p.jsx)(T.ZP,{children:null});let{username:s}=e.params,l=r&&r.id===t,c=(r.pin_count??0)>0;return(0,p.jsx)(T.ZP,{children:s?(0,p.jsx)(O.Z,{objectIdStr:r.id,viewParameter:74,viewType:4,children:(0,p.jsx)(A.Z,{component:210,objectId:r.id,view:4,viewParameter:l?3106:3107,children:(0,p.jsxs)(a.xu,{children:[c&&(0,p.jsx)(a.xu,{marginBottom:1,children:(0,p.jsx)(a.xv,{color:"subtle",size:"100",weight:"bold",children:(0,j.nk)(this.props.i18n.nbt(["{{ numPins }} пин", "{{ numPins }} пина", "{{ numPins }} пинов"], r.pin_count ?? 0, "number of pins user has", true),{numPins:this.props.prettyNumberFormat(this.props.locale,r.pin_count??0,L)})})}),(0,p.jsx)(m.Z,{name:"SafeSuspense_ProfilePinsFeed",children:(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(I.Z,{}),children:(0,p.jsx)(D.Z,{isOwnProfile:l,isProfilePinsStale:!!n,resourceRef:i,username:s})})})]})})}):null})}}function H(){let e=(0,E.I0)(),r=(0,s.TH)(),t=(0,s.$B)(),n=(0,E.v9)(e=>e.session.isProfilePinsStale),o=(0,b.Z)()[t.params.username??""],a=(0,i.Z)(),{isAuth:l}=a,c=l?a.id:"",d=(0,u.ZP)(),{locale:h}=(0,Z.B)(),_=(0,S.Z)(),m=(0,s.k6)(),f=!!(l&&o?.username===a.username),v=!f&&!!o?.is_private_profile,P=(0,g.Z)({name:"UserPinsResource",options:(0,N.Z)({isAuthenticated:l,isOwnProfile:f,username:o?.username}),noCache:!f||n});return v&&m.replace("/"),(0,p.jsx)(U,{i18n:d,isProfilePinsStale:n,locale:h,location:r,match:t,prettyNumberFormat:_,resourceRef:P,setProfilePinsRefreshed:()=>e((0,R.O0)()),user:o,viewerId:c})}let F=function(){let e=(0,n.HG)(),r=(0,i.Z)(),t=r&&r.isAuth;return e&&t?(0,p.jsx)(y,{}):(0,p.jsx)(H,{})}},615300:(e,r,t)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/[username]/pins",function(){return t(780509).Z}])}},e=>{var r=r=>e(e.s=r);e.O(0,[97270,83119,15787,76594,74377,89820,42298,27234,50289,5710,168,88027,9073,32859,32322,81507,80712,7217,76766,81395,93455,88806],()=>r(615300)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/pins.ru_RU-e74189eb2ccaf066.mjs.map